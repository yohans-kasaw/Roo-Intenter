<output_format>
  <overview>
    Structured data output formats for extraction and verification.
    All output is YAML. No prose. No markdown formatting.
    This data feeds into documentation-writer mode.
  </overview>

  <extraction_schema>
    <description>Schema for EXTRACT-[feature].yaml files</description>
    <template>
feature:
  name: [feature name from code]
  slug: [lowercase-hyphenated identifier]
  extracted_at: [ISO timestamp]
  source_files:
    - [list of primary files]

identity:
  entry_points:
    - type: [command|ui|api|event]
      name: [identifier]
      location: [file:line]
  components:
    - name: [component name]
      file: [path]
      purpose: [one line from code comments or inferred]

behavior:
  primary_action: [what it does - from code]
  inputs:
    - name: [input name]
      type: [data type]
      required: [true|false]
      source: [file:line]
  outputs:
    - name: [output name]
      type: [data type]
      source: [file:line]
  side_effects:
    - description: [what changes]
      source: [file:line]

configuration:
  - name: [setting name]
    key: [config key path]
    type: [data type]
    default: [default value]
    valid_values: [list or range]
    effect: [what it changes]
    source: [file:line]

constraints:
  prerequisites:
    - description: [requirement]
      source: [file:line]
  limitations:
    - description: [what cannot be done]
      source: [file:line]
  permissions:
    - description: [permission needed]
      source: [file:line]

errors:
  - condition: [when this error occurs]
    message: "[exact error message text]"
    code: [error code if any]
    source: [file:line]

ui:
  components:
    - name: [component name]
      type: [button|panel|input|etc]
      label: "[visible text]"
      source: [file:line]
  interactions:
    - trigger: [user action]
      result: [what happens]
      source: [file:line]

integration:
  internal:
    - feature: [other feature name]
      relationship: [how they interact]
      source: [file:line]
  external:
    - service: [external service]
      api: [endpoint or method]
      source: [file:line]
    </template>
  </extraction_schema>

  <verification_schema>
    <description>Schema for VERIFY-[feature].yaml files</description>
    <template>
verification:
  feature: [feature name]
  doc_source: [where the docs came from]
  verified_at: [ISO timestamp]
  summary:
    total_claims: [count]
    accurate: [count]
    inaccurate: [count]
    outdated: [count]
    missing_context: [count]
    unverifiable: [count]

claims:
  - id: [claim-1]
    quote: "[exact text from documentation]"
    category: [behavior|configuration|constraint|error_handling|ui|integration|prerequisite]
    status: [ACCURATE|INACCURATE|OUTDATED|MISSING_CONTEXT|UNVERIFIABLE]
    evidence:
      code_file: [file:line]
      actual_behavior: [what code does - only if status is not ACCURATE]
      code_quote: "[relevant code snippet]"
    </template>
  </verification_schema>

  <output_rules>
    <rule>Use YAML, not JSON or markdown</rule>
    <rule>Include source file:line for every fact</rule>
    <rule>Quote exact strings from code using double quotes</rule>
    <rule>Use null for unknown/missing values, not empty strings</rule>
    <rule>Keep descriptions factual and brief - one line max</rule>
    <rule>Do NOT add commentary, suggestions, or explanations</rule>
  </output_rules>

  <file_naming>
    <extraction>EXTRACT-[feature-slug].yaml</extraction>
    <verification>VERIFY-[feature-slug].yaml</verification>
    <location>.roo/extraction/</location>
  </file_naming>
</output_format>